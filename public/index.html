<!DOCTYPE html>
<html lang="en-us" data-theme="dark">

<head>
  <title>Cana Goals</title>
  <meta charset="utf-8">
  <link href="https://fonts.cdnfonts.com/css/futura-pt" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <link rel="apple-touch-icon" sizes="180x180" href="Resources/Icons/apple-touch-icon.png?v=2">
  <link rel="icon" type="image/png" sizes="32x32" href="Resources/Icons/favicon-32x32.png?v=2">
  <link rel="icon" type="image/png" sizes="16x16" href="Resources/Icons/favicon-16x16.png?v=2">
  <link rel="manifest" href="site.webmanifest?v=2">
  <link rel="mask-icon" href="Resources/Icons/safari-pinned-tab.svg?v=2" color="#00aa63">
  <meta name="apple-mobile-web-app-title" content="Cana Goals">
  <meta name="application-name" content="Cana Goals">
  <link rel="shortcut icon" href="Resources/Icons/favicon.ico?v=2">
  <meta name="msapplication-TileColor" content="#2d2d2d">
  <meta name="theme-color" content="#2d2d2d">
  <meta name="description"
    content="Web app used to add, monitor and complete goals during 100 day or 300 day goal periods for Cana Church staff members.">
</head>

<body>
  <div id="login-page" class="pop-up-page">
    <div id="login-wrapper" class="pop-up-wrapper">
      <div id="login-title" class="pop-up-title">Login to Continue</div>
      <div class="pop-up-field">
        <input id="login-email" type="text" placeholder="Email Address" required>
      </div>
      <div class="pop-up-field">
        <input id="login-password" type="password" placeholder="Password" required>
        <span class="fa-solid fa-eye eye-icon"></span>
      </div>
      <button id="login-button" class="pop-up-submit">Log In</button>
    </div>
  </div>

  <div id="language-page" class="pop-up-page">
    <div id="language-wrapper" class="pop-up-wrapper">
      <span id="floating-window-show"><i class="fa-regular fa-window-restore"></i>Show Floating Window</span>
      <button id="language-close" class="pop-up-close">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div id="language-content" class="pop-up-content">
        <span>
          <h3><em>Goals Should Be</em></h3>
          <p><strong>Specific</strong>&nbsp;&ndash; be clear what you are working on</p>
          <p><strong>Measurable</strong>&nbsp;&ndash; Say how much of the project you will complete and how it is
            measured</p>
          <p><strong>Achievable</strong>&nbsp;&ndash; Can you get to the completion point of the goal</p>
          <p><strong>Relevant</strong>&nbsp;&ndash; In this case, your goals should target some aspect of the bottomline
            focus of the specified days.</p>
          <p><strong>Timebound</strong> &ndash; Goal completion should occur within specified days.</p>
          <h3><em>Goal Language</em></h3>
          <p><strong>Develop</strong>&nbsp;&ndash; Develop goals describe the pursuit of an outline, assigned
            responsibilities, a collection of leaders engaged, and executable next steps at the ready or measurably
            completed. A Scratch
            Sheet should be available and approved and complete with all but the most detailed of information.</p>
          <p><strong>Research</strong>&nbsp;&ndash; Research Goals requires a completed report that includes
            feasibility, process, and objective. Research is not concerned with preparation or execution but with
            organization and philosophy/theology.</p>
          <p><strong>Add on</strong>&nbsp;&ndash; Add on goals seek to add functionality or divisions of people into the
            scope of an existing ministry. <strong>*new feature*</strong></p>
          <p><strong>Remodel</strong>&nbsp;&ndash; Remodel goals expand a ministry or significantly improve the
            functionality and scale of a program or activity. <strong>*better function*</strong></p>
          <h3><em>Goal Recording</em></h3>
          <p><strong>Building blocks are not goals</strong>&nbsp;&ndash; they are components necessary to accomplish the
            goal. They are environmental or personnel or financial conditions necessary to reaching your goals</p>
          <p><strong>System think</strong>&nbsp;- Your building blocks should indicate that you understand the
            <strong>SYSTEM</strong> behind your goal.
          </p>
        </span>
      </div>
    </div>
  </div>

  <div id="floating-window" style="display: none;">
    <div id="floating-window-header">
      <span>Goal Language</span>
      <button id="floating-window-close">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div id="floating-window-content">
      <span>
        <h3><em>Goals Should Be</em></h3>
        <p><strong>Specific</strong>&nbsp;&ndash; be clear what you are working on</p>
        <p><strong>Measurable</strong>&nbsp;&ndash; Say how much of the project you will complete and how it is
          measured</p>
        <p><strong>Achievable</strong>&nbsp;&ndash; Can you get to the completion point of the goal</p>
        <p><strong>Relevant</strong>&nbsp;&ndash; In this case, your goals should target some aspect of the bottomline
          focus of the specified days.</p>
        <p><strong>Timebound</strong> &ndash; Goal completion should occur within specified days.</p>
        <h3><em>Goal Language</em></h3>
        <p><strong>Develop</strong>&nbsp;&ndash; Develop goals describe the pursuit of an outline, assigned
          responsibilities, a collection of leaders engaged, and executable next steps at the ready or measurably
          completed. A Scratch
          Sheet should be available and approved and complete with all but the most detailed of information.</p>
        <p><strong>Research</strong>&nbsp;&ndash; Research Goals requires a completed report that includes
          feasibility, process, and objective. Research is not concerned with preparation or execution but with
          organization and philosophy/theology.</p>
        <p><strong>Add on</strong>&nbsp;&ndash; Add on goals seek to add functionality or divisions of people into the
          scope of an existing ministry. <strong>*new feature*</strong></p>
        <p><strong>Remodel</strong>&nbsp;&ndash; Remodel goals expand a ministry or significantly improve the
          functionality and scale of a program or activity. <strong>*better function*</strong></p>
        <h3><em>Goal Recording</em></h3>
        <p><strong>Building blocks are not goals</strong>&nbsp;&ndash; they are components necessary to accomplish the
          goal. They are environmental or personnel or financial conditions necessary to reaching your goals</p>
        <p><strong>System think</strong>&nbsp;- Your building blocks should indicate that you understand the
          <strong>SYSTEM</strong> behind your goal.
        </p>
      </span>
    </div>
  </div>

  <div id="new-updates-page" class="pop-up-page">
    <div id="new-updates-wrapper" class="pop-up-wrapper">
      <button id="new-updates-close" class="pop-up-close">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div id="new-updates-content" class="pop-up-content">
        <div id="add-semester-title" class="pop-up-title">Newest Updates</div>
        <p>Version ###</p>
        <ul>
          <li><strong>Slack Integration</strong>
            <ul>
              <li>When updating a status for goals and building blocks or submitting a comment, the
                <strong>#cana-goals</strong> channel in Slack will now be notified. Status updates will tag the user who
                owns the specific table. New comments will tag the comment author and the recipient.</li>
            </ul>
          </li>
          <p style="margin: 20px 0 10px -20px;">Version 2.2</p>
          <li><strong>Goal Language Floating Window</strong>
            <ul>
              <li>If you are on desktop, you will now see a "Show Floating Window" button on the Goal Language page.
                Clicking
                this button will allow you to have an indepent window to view the goal languages. You can move it around
                by dragging from the header and can resize the window from the bottom right corner.</li>
            </ul>
          </li>
          <p style="margin: 20px 0 10px -20px;">Version 2.1</p>
          <li><strong>New Semester Overviews</strong>
            <ul>
              <li>At the start of each semester, you'll see an overview showing a bar graph of goal and building block
                statuses. As you update these, the overview will reflect the changes, giving a clear view of overall
                progress for the semester.</li>
            </ul>
          </li>
          <p style="margin: 20px 0 10px -20px;">Version 2.0</p>
          <li><strong>New Side Menu</strong>
            <ul>
              <li>In the top right corner, there's a new button that opens a menu with features like settings,
                goal language page, and more!</li>
            </ul>
          </li>
          <li><strong>Redesigned Semester Layout</strong>
            <ul>
              <li>The new layout features tabs at the top for easy semester selection, eliminating the need to scroll
                back up to choose a semester.</li>
            </ul>
          </li>
          <li><strong>No More Table Buttons!</strong>
            <ul>
              <li>Buttons were removed from the tables (except comments and table folds) for a more unified look. Table
                actions are now available through a contextual menu, having Add New Goal, Expand Table Folds, and Close
                Table Folds always showing, with other actions based on selection. <strong><i>Buttons can be turned back
                    on in settings.</i></strong></li>
              <li><strong>Desktop - </strong>On desktop, right-click or double-click on different table parts to access
                actions. To add a goal, right or double-click on a previous goal or table headers, then select Add New
                Goal. This also works for building blocks, comments and deleting.</li>
              <li><strong>Mobile - </strong>On mobile devices, you can double-tap or hold down on the screen over the
                table part to see actions, similar to desktop.</li>
            </ul>
          </li>
          <li><strong>Table Comments</strong>
            <ul>
              <li>Table comments now feature a submit button on the right side when typing. Clicking it posts your
                comment and sends an email notification to the table owner if the table is not yours, keeping users
                informed of new comments. To remove a comment, open the contextual menu and click Delete Comment.</li>
            </ul>
          </li>
          <li><strong>Goal/Building Block Status</strong>
            <ul>
              <li>Percentage based completion was replaced with statuses. When you click a status cell, you will see a
                menu where you can select the status that applies to the goal/building block.</li>
            </ul>
          </li>
          <li><strong>Finally, AutoSave!</strong>
            <ul>
              <li>Yes I know, the old way of having to press save for everything was annoying, but worry no more!
                Table data will now autosave a second or two after you make any changes.</li>
              <li>When an autosave occurs, you'll be notified in two ways. On the left of the menu button, a status
                indicator appears: text with an icon on desktop and an icon on mobile. Additionally, you'll receive an
                in-app notification confirming the save. For errors, reload the page to view the latest saved data.</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div id="add-semester-page" class="pop-up-page">
    <div id="add-semester-wrapper" class="pop-up-wrapper">
      <button id="add-semester-close" class="pop-up-close">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div id="add-semester-content" class="pop-up-content">
        <div id="add-semester-title" class="pop-up-title">Add Semester</div>
        <label>Semester Name</label>
        <div class="pop-up-field">
          <input id="add-semester-name" type="text" placeholder="Ex: Spring 20XX">
        </div>
        <label>Semester Start Date</label>
        <div class="pop-up-field">
          <input id="add-semester-start" type="date">
        </div>
        <label>Semester End Date</label>
        <div class="pop-up-field">
          <input id="add-semester-end" type="date">
        </div>
        <button id="add-semester-submit" class="pop-up-submit">Submit Semester</button>
      </div>
    </div>
  </div>

  <div id="settings-page" class="pop-up-page">
    <div id="settings-wrapper" class="pop-up-wrapper">
      <button id="settings-close" class="pop-up-close">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <div id="settings-content" class="pop-up-content">
        <div id="settings-title" class="pop-up-title">Settings</div>
        <div class="pop-up-field">
          <p>Receive Comment Emails</p>
          <input id="settings-emails" type="checkbox" class="settings-toggle" checked>
        </div>
        <div class="pop-up-field">
          <p>Show Confetti Animations</p>
          <input id="settings-confetti" type="checkbox" class="settings-toggle" checked>
        </div>
        <div class="pop-up-field">
          <p>Show Table Buttons</p>
          <input id="settings-buttons" type="checkbox" class="settings-toggle">
        </div>
        <button id="settings-submit" class="pop-up-submit">Save Settings</button>
      </div>
    </div>
  </div>

  <div id="toast-holder"></div>

  <div id="context-menu">
    <span id="add-goal"><i class="fas fa-list-check"></i>Add New Goal</span>
    <span id="expand-folds"><i class="fas fa-caret-up"></i>Expand Table Folds</span>
    <span id="close-folds"><i class="fas fa-caret-down"></i>Close Table Folds</span>
    <div id="context-menu-line"></div>
    <span id="add-build-block"></span>
    <span id="add-comment"></span>
    <span id="delete-item"></span>
  </div>

  <div id="status-menu">
    <span id="status-not-working"><i class="fas fa-circle-xmark"></i>Not Working On</span>
    <span id="status-working-on"><i class="fas fa-briefcase"></i>Working On</span>
    <span id="status-completed"><i class="fas fa-check-double"></i>Completed</span>
    <span id="status-waiting"><i class="fas fa-hourglass-half"></i>Waiting</span>
    <span id="status-stuck"><i class="fas fa-triangle-exclamation"></i>Stuck</span>
  </div>

  <div id="main-page">
    <header>
      <div>
        <img src="Resources/Icons/transparent-logo.png">
        <h1>Cana Goals</h1>
        <div id="autosave-status">
          <p>Up to Date</p>
          <i class="fas fa-circle-check"></i>
        </div>
        <div id="menu-holder">
          <input type="checkbox" id="menu-toggle">
          <label for="menu-toggle" class="menu-toggle">
            <i class="fas fa-bars menu-label"></i>
            <i class="fas fa-xmark close-label"></i>
          </label>
          <div class="menu-background"></div>
          <div class="menu-sidebar">
            <span id="menu-login"><i class="fas fa-right-to-bracket"></i>Log In</span>
            <span id="menu-themes"><i class="fas fa-sun"></i>Light Mode</span>
            <span id="menu-settings"><i class="fas fa-gear"></i>Settings</span>
            <span id="menu-updates"><i class="fas fa-pen-to-square"></i>What's New</span>
            <span id="menu-goals"><i class="fas fa-earth-americas"></i>Goal Language</span>
          </div>
        </div>
      </div>
      <div id="semesters-menu"></div>
    </header>
    <ul id="skeleton-container">
      <li>
        <div>
          <h2 class="skeleton"></h2>
          <table style="pointer-events: none;">
            <thead>
              <tr>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div>
          <h2 class="skeleton"></h2>
          <table style="pointer-events: none;">
            <thead>
              <tr>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div>
          <h2 class="skeleton"></h2>
          <table style="pointer-events: none;">
            <thead>
              <tr>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div>
          <h2 class="skeleton"></h2>
          <table style="pointer-events: none;">
            <thead>
              <tr>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
                <th class="skeleton"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
                <td class="skeleton"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </li>
    </ul>
    <ul id="semesters-container" style="display: none;"></ul>
  </div>
  <!-- https://github.com/catdad/canvas-confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="script.js"></script>
</body>

<template id="template-toast">
  <div class="toast">
    <div class="toast-content">
      <i class="fa-solid fa-bell bell"></i>
      <div class="toast-message">
        <span class="toast-title">Notification Title</span>
        <span>Notification Message.</span>
      </div>
    </div>
    <i class="fa-solid fa-xmark close"></i>
    <div class="toast-progress"></div>
  </div>
</template>

<template id="template-goal-focus">
  <div id="goal-focus">
    <h2>Goal Focus</h2>
    <p contenteditable="plaintext-only" class="goal-focus-p" placeholder="Enter Goal Focus..."></p>
  </div>
</template>

<template id="template-user-table">
  <div id="userID-table" data-context="user-table">
    <h2></h2>
    <span>Being Edited</span>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Goals</th>
          <th>Due Dates</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
</template>

<template id="template-goal">
  <tr class="view" data-context="user-goal">
    <td><button class="fold-btn fas fa-caret-down"></button></td>
    <td contenteditable="plaintext-only" placeholder="Goal..." class="autosave"></td>
    <td><input type="date" class="table-action autosave"></td>
    <td class="status-input"><i class="fas fa-circle-xmark"></i>Not Working On</td>
  </tr>
  <tr class="fold-closed">
    <td colspan="4">
      <div>
        <table class="building-block-table">
          <thead>
            <tr data-context="user-build-block-head">
              <th>Building Blocks</th>
              <th>Due Dates</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        <table class="comment-table">
          <thead>
            <tr data-context="user-comment-head">
              <th>Comments</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </td>
  </tr>
</template>

<template id="template-build-block">
  <tr data-context="user-build-block">
    <td contenteditable="plaintext-only" placeholder="Building Block..." class="autosave"></td>
    <td><input type="date" class="table-action autosave"></td>
    <td class="status-input"><i class="fas fa-circle-xmark"></i>Not Working On</td>
  </tr>
</template>

<template id="template-comment">
  <tr data-context="user-comment">
    <td contenteditable="plaintext-only" placeholder="Add a comment..."></td>
  </tr>
</template>

</html>